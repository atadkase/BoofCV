<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_131) on Wed May 10 14:51:44 EDT 2017 -->
<title>PnPLepetitEPnP (boofcv-geo 0.27-SNAPSHOT API)</title>
<meta name="date" content="2017-05-10">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PnPLepetitEPnP (boofcv-geo 0.27-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../boofcv/alg/geo/pose/PnPJacobianRodrigues.html" title="class in boofcv.alg.geo.pose"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../boofcv/alg/geo/pose/PnPResidualReprojection.html" title="class in boofcv.alg.geo.pose"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?boofcv/alg/geo/pose/PnPLepetitEPnP.html" target="_top">Frames</a></li>
<li><a href="PnPLepetitEPnP.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">boofcv.alg.geo.pose</div>
<h2 title="Class PnPLepetitEPnP" class="title">Class PnPLepetitEPnP</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>boofcv.alg.geo.pose.PnPLepetitEPnP</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">PnPLepetitEPnP</span>
extends java.lang.Object</pre>
<div class="block"><p>
 Implementation of the EPnP algorithm from [1] for solving the PnP problem when N &ge; 5 for the general case
 and N &ge; 4 for planar data (see note below).  Given a calibrated camera, n pairs of 2D point observations and the known 3D
 world coordinates, it solves the for camera's pose.. This solution is non-iterative and claims to be much
 faster and more accurate than the alternatives.  Works for both planar and non-planar configurations.
 </p>

 <p>
 Expresses the N 3D point as a weighted sum of four virtual control points.  Problem then becomes to estimate
 the coordinates of the control points in the camera referential, which can be done in O(n) time.
 </p>

 <p>
 After estimating the control points the solution can be refined using Gauss Newton non-linear
 optimization.  The objective function being optimizes
 reduces the difference between world and camera control point distances by adjusting
 the values of beta.  Optimization is very fast, but can degrade accuracy if over optimized.
 See warning below.  To turn on non-linear optimization set <a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#setNumIterations-int-"><code>setNumIterations(int)</code></a> to
 a positive number.
 </p>

 <p>
 After experimentation there doesn't seem to be any universally best way to choose the control
 point distribution.  To allow tuning for specific problems the 'magic number' has been provided.
 Larger values increase the control point distribution's size. In general smaller numbers appear
 to be better for noisier data, but can degrade results if too small.
 </p>

 <p>
 MINIMUM POINTS: According to the original paper [1] only 4 points are needed for the general case.
 In practice it produces very poor results on average.  The matlab code provided by the original author
 also exhibits instability in the minimum case.  The article also does not show results for the minimum
 case, making it hard to judge what should be expected.  However, I'm not ruling out there being a bug
 in relinearization.  See that code for comments.  Correspondence with the original author indicates that
 he did not expect results from relinearization to be as accurate as the other cases.
 </p>

 <p>
 NOTES: This implementation deviates in some minor ways from what was described in the paper.  However, their
 own example code (Matlab and C++) are mutually different in significant ways too.  See how solutions are scored,
 linear systems are solved, and how world control points are computed.  How control points are computed here
 is inspired from their C++ example (technique used in their matlab example has some stability issues), but
 there is probably room for more improvement.
 </p>

 <p>
 WARNING: Setting the number of optimization iterations too high can actually degrade accuracy.  The
 objective function being minimized is not observation residuals.  Locally it appears
 to be a good approximation, but can diverge and actually produce worse results. Because
 of this behavior, more advanced optimization routines are unnecessary and counter productive.
 </p>

 <p>
 [1]  Vincent Lepetit, Francesc Moreno-Noguer, and Pascal Fua, "EPnP: An Accurate O(n) Solution to the PnP Problem"
 Int. J. Comput. Visionm, vol 81, issue 2, 2009
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.ejml.data.DMatrixRMaj</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#alphas">alphas</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.ddogleg.struct.FastQueue&lt;georegression.struct.point.Point3D_F64&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#controlWorldPts">controlWorldPts</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.ejml.data.DMatrixRMaj</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#L_full">L_full</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.List&lt;georegression.struct.point.Point3D_F64&gt;[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#nullPts">nullPts</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#numControl">numControl</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.ddogleg.struct.FastQueue&lt;georegression.struct.point.Point3D_F64&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#solutionPts">solutionPts</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.ejml.data.DMatrixRMaj</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#y">y</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#PnPLepetitEPnP--">PnPLepetitEPnP</a></span>()</code>
<div class="block">Constructor which uses the default magic number</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#PnPLepetitEPnP-double-">PnPLepetitEPnP</a></span>(double&nbsp;magicNumber)</code>
<div class="block">Constructor which allows configuration of the magic number.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#computeBarycentricCoordinates-org.ddogleg.struct.FastQueue-org.ejml.data.DMatrixRMaj-java.util.List-">computeBarycentricCoordinates</a></span>(org.ddogleg.struct.FastQueue&lt;georegression.struct.point.Point3D_F64&gt;&nbsp;controlWorldPts,
                             org.ejml.data.DMatrixRMaj&nbsp;alphas,
                             java.util.List&lt;georegression.struct.point.Point3D_F64&gt;&nbsp;worldPts)</code>
<div class="block">
 Given the control points it computes the 4 weights for each camera point.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#constructM-java.util.List-org.ejml.data.DMatrixRMaj-org.ejml.data.DMatrixRMaj-">constructM</a></span>(java.util.List&lt;georegression.struct.point.Point2D_F64&gt;&nbsp;obsPts,
          org.ejml.data.DMatrixRMaj&nbsp;alphas,
          org.ejml.data.DMatrixRMaj&nbsp;M)</code>
<div class="block">Constructs the linear system which is to be solved.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#estimateCase1-double:A-">estimateCase1</a></span>(double[]&nbsp;betas)</code>
<div class="block">Simple analytical solution.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#estimateCase2-double:A-">estimateCase2</a></span>(double[]&nbsp;betas)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#estimateCase3_planar-double:A-">estimateCase3_planar</a></span>(double[]&nbsp;betas)</code>
<div class="block">If the data is planar use relinearize to estimate betas</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#estimateCase3-double:A-">estimateCase3</a></span>(double[]&nbsp;betas)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#estimateCase4-double:A-">estimateCase4</a></span>(double[]&nbsp;betas)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#extractNullPoints-org.ejml.data.DMatrixRMaj-">extractNullPoints</a></span>(org.ejml.data.DMatrixRMaj&nbsp;M)</code>
<div class="block">Computes M'*M and finds the null space.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#getMinPoints--">getMinPoints</a></span>()</code>
<div class="block">Returns the minimum number of points required to make an estimate.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#matchScale-java.util.List-org.ddogleg.struct.FastQueue-">matchScale</a></span>(java.util.List&lt;georegression.struct.point.Point3D_F64&gt;&nbsp;nullPts,
          org.ddogleg.struct.FastQueue&lt;georegression.struct.point.Point3D_F64&gt;&nbsp;controlWorldPts)</code>
<div class="block">Examines the distance each point is from the centroid to determine the scaling difference
 between world control points and the null points.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#process-java.util.List-java.util.List-georegression.struct.se.Se3_F64-">process</a></span>(java.util.List&lt;georegression.struct.point.Point3D_F64&gt;&nbsp;worldPts,
       java.util.List&lt;georegression.struct.point.Point2D_F64&gt;&nbsp;observed,
       georegression.struct.se.Se3_F64&nbsp;solutionModel)</code>
<div class="block">Compute camera motion given a set of features with observations and 3D locations</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#selectWorldControlPoints-java.util.List-org.ddogleg.struct.FastQueue-">selectWorldControlPoints</a></span>(java.util.List&lt;georegression.struct.point.Point3D_F64&gt;&nbsp;worldPts,
                        org.ddogleg.struct.FastQueue&lt;georegression.struct.point.Point3D_F64&gt;&nbsp;controlWorldPts)</code>
<div class="block">Selects control points along the data's axis and the data's centroid.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../boofcv/alg/geo/pose/PnPLepetitEPnP.html#setNumIterations-int-">setNumIterations</a></span>(int&nbsp;numIterations)</code>
<div class="block">Used to turn on and off non-linear optimization.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="alphas">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>alphas</h4>
<pre>protected&nbsp;org.ejml.data.DMatrixRMaj alphas</pre>
</li>
</ul>
<a name="L_full">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>L_full</h4>
<pre>protected&nbsp;org.ejml.data.DMatrixRMaj L_full</pre>
</li>
</ul>
<a name="y">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>y</h4>
<pre>protected&nbsp;org.ejml.data.DMatrixRMaj y</pre>
</li>
</ul>
<a name="numControl">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numControl</h4>
<pre>protected&nbsp;int numControl</pre>
</li>
</ul>
<a name="nullPts">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nullPts</h4>
<pre>protected&nbsp;java.util.List&lt;georegression.struct.point.Point3D_F64&gt;[] nullPts</pre>
</li>
</ul>
<a name="controlWorldPts">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>controlWorldPts</h4>
<pre>protected&nbsp;org.ddogleg.struct.FastQueue&lt;georegression.struct.point.Point3D_F64&gt; controlWorldPts</pre>
</li>
</ul>
<a name="solutionPts">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>solutionPts</h4>
<pre>protected&nbsp;org.ddogleg.struct.FastQueue&lt;georegression.struct.point.Point3D_F64&gt; solutionPts</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PnPLepetitEPnP--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PnPLepetitEPnP</h4>
<pre>public&nbsp;PnPLepetitEPnP()</pre>
<div class="block">Constructor which uses the default magic number</div>
</li>
</ul>
<a name="PnPLepetitEPnP-double-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PnPLepetitEPnP</h4>
<pre>public&nbsp;PnPLepetitEPnP(double&nbsp;magicNumber)</pre>
<div class="block">Constructor which allows configuration of the magic number.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>magicNumber</code> - Magic number changes distribution of world control points.
                    Values less than one seem to work best. Try 0.1</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setNumIterations-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNumIterations</h4>
<pre>public&nbsp;void&nbsp;setNumIterations(int&nbsp;numIterations)</pre>
<div class="block">Used to turn on and off non-linear optimization.  To turn on set to a positive number.
 See warning in class description about setting the number of iterations too high.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>numIterations</code> - Number of iterations.  Try 10.</dd>
</dl>
</li>
</ul>
<a name="process-java.util.List-java.util.List-georegression.struct.se.Se3_F64-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>process</h4>
<pre>public&nbsp;void&nbsp;process(java.util.List&lt;georegression.struct.point.Point3D_F64&gt;&nbsp;worldPts,
                    java.util.List&lt;georegression.struct.point.Point2D_F64&gt;&nbsp;observed,
                    georegression.struct.se.Se3_F64&nbsp;solutionModel)</pre>
<div class="block">Compute camera motion given a set of features with observations and 3D locations</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>worldPts</code> - Known location of features in 3D world coordinates</dd>
<dd><code>observed</code> - Observed location of features in normalized camera coordinates</dd>
<dd><code>solutionModel</code> - Output: Storage for the found solution.</dd>
</dl>
</li>
</ul>
<a name="selectWorldControlPoints-java.util.List-org.ddogleg.struct.FastQueue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>selectWorldControlPoints</h4>
<pre>public&nbsp;void&nbsp;selectWorldControlPoints(java.util.List&lt;georegression.struct.point.Point3D_F64&gt;&nbsp;worldPts,
                                     org.ddogleg.struct.FastQueue&lt;georegression.struct.point.Point3D_F64&gt;&nbsp;controlWorldPts)</pre>
<div class="block">Selects control points along the data's axis and the data's centroid.  If the data is determined
 to be planar then only 3 control points are selected.

 The data's axis is determined by computing the covariance matrix then performing SVD.  The axis
 is contained along the</div>
</li>
</ul>
<a name="computeBarycentricCoordinates-org.ddogleg.struct.FastQueue-org.ejml.data.DMatrixRMaj-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeBarycentricCoordinates</h4>
<pre>protected&nbsp;void&nbsp;computeBarycentricCoordinates(org.ddogleg.struct.FastQueue&lt;georegression.struct.point.Point3D_F64&gt;&nbsp;controlWorldPts,
                                             org.ejml.data.DMatrixRMaj&nbsp;alphas,
                                             java.util.List&lt;georegression.struct.point.Point3D_F64&gt;&nbsp;worldPts)</pre>
<div class="block"><p>
 Given the control points it computes the 4 weights for each camera point.  This is done by
 solving the following linear equation: C*&alpha;=X. where C is the control point matrix,
 &alpha; is the 4 by n matrix containing the solution, and X is the camera point matrix.
 N is the number of points.
 </p>
 <p>
 C = [ controlPts' ; ones(1,4) ]<br>
 X = [ cameraPts' ; ones(1,N) ]
 </p></div>
</li>
</ul>
<a name="constructM-java.util.List-org.ejml.data.DMatrixRMaj-org.ejml.data.DMatrixRMaj-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>constructM</h4>
<pre>protected static&nbsp;void&nbsp;constructM(java.util.List&lt;georegression.struct.point.Point2D_F64&gt;&nbsp;obsPts,
                                 org.ejml.data.DMatrixRMaj&nbsp;alphas,
                                 org.ejml.data.DMatrixRMaj&nbsp;M)</pre>
<div class="block">Constructs the linear system which is to be solved.

 sum a_ij*x_j - a_ij*u_i*z_j = 0
 sum a_ij*y_j - a_ij*v_i*z_j = 0

 where (x,y,z) is the control point to be solved for.
       (u,v) is the observed normalized point</div>
</li>
</ul>
<a name="extractNullPoints-org.ejml.data.DMatrixRMaj-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extractNullPoints</h4>
<pre>protected&nbsp;void&nbsp;extractNullPoints(org.ejml.data.DMatrixRMaj&nbsp;M)</pre>
<div class="block">Computes M'*M and finds the null space.  The 4 eigenvectors with the smallest eigenvalues are found
 and the null points extracted from them.</div>
</li>
</ul>
<a name="matchScale-java.util.List-org.ddogleg.struct.FastQueue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>matchScale</h4>
<pre>protected&nbsp;double&nbsp;matchScale(java.util.List&lt;georegression.struct.point.Point3D_F64&gt;&nbsp;nullPts,
                            org.ddogleg.struct.FastQueue&lt;georegression.struct.point.Point3D_F64&gt;&nbsp;controlWorldPts)</pre>
<div class="block">Examines the distance each point is from the centroid to determine the scaling difference
 between world control points and the null points.</div>
</li>
</ul>
<a name="estimateCase1-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estimateCase1</h4>
<pre>protected&nbsp;void&nbsp;estimateCase1(double[]&nbsp;betas)</pre>
<div class="block">Simple analytical solution.  Just need to solve for the scale difference in one set
 of potential control points.</div>
</li>
</ul>
<a name="estimateCase2-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estimateCase2</h4>
<pre>protected&nbsp;void&nbsp;estimateCase2(double[]&nbsp;betas)</pre>
</li>
</ul>
<a name="estimateCase3-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estimateCase3</h4>
<pre>protected&nbsp;void&nbsp;estimateCase3(double[]&nbsp;betas)</pre>
</li>
</ul>
<a name="estimateCase3_planar-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estimateCase3_planar</h4>
<pre>protected&nbsp;void&nbsp;estimateCase3_planar(double[]&nbsp;betas)</pre>
<div class="block">If the data is planar use relinearize to estimate betas</div>
</li>
</ul>
<a name="estimateCase4-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>estimateCase4</h4>
<pre>protected&nbsp;void&nbsp;estimateCase4(double[]&nbsp;betas)</pre>
</li>
</ul>
<a name="getMinPoints--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getMinPoints</h4>
<pre>public&nbsp;int&nbsp;getMinPoints()</pre>
<div class="block">Returns the minimum number of points required to make an estimate.  Technically
 it is 4 for general and 3 for planar.  The minimum number of point cases
 seem to be a bit unstable in some situations.  minimum + 1 or more is stable.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>minimum number of points</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../boofcv/alg/geo/pose/PnPJacobianRodrigues.html" title="class in boofcv.alg.geo.pose"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../boofcv/alg/geo/pose/PnPResidualReprojection.html" title="class in boofcv.alg.geo.pose"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?boofcv/alg/geo/pose/PnPLepetitEPnP.html" target="_top">Frames</a></li>
<li><a href="PnPLepetitEPnP.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
